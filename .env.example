# Supabase (required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# OpenAI (required for AI extraction)
OPENAI_API_KEY=sk-...

# Extraction model (optional). Default: gpt-4o. Use gpt-4o-mini for lower cost.
# EXTRACTION_MODEL=gpt-4o-mini

# Other Invoices extraction model (optional). Overrides EXTRACTION_MODEL for Other Invoices only.
# OTHER_INVOICE_EXTRACTION_MODEL=gpt-4o-mini

# Perplexity (optional - for guest risk analysis with internet search)
# PERPLEXITY_API_KEY=pplx-...

# Resend (required for email notifications)
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL="TRT UK Operations Platform <london.finance@trtworld.com>"

# Resend inbound (optional - for email-to-Other-Invoice: forward invoices to invoices@quaifla.resend.app)
# RESEND_WEBHOOK_SECRET=whsec_...   # From Resend Webhooks → your webhook → Signing secret
# RESEND_INBOUND_SUBMITTER_USER_ID=uuid  # Optional: user ID for created invoices. If unset, uses first admin/finance/operations.

# App name (used in email headers, subject lines)
NEXT_PUBLIC_APP_NAME="TRT UK Operations Platform"

# App URL (used in emails and redirects)
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app

# Vercel Cron (required in production - cron jobs use CRON_SECRET for auth)
# Also used for IP binding when SESSION_IP_SECRET is not set.
CRON_SECRET=your-random-secret

# MFA cookie signing (required for MFA verification - users get "Server configuration error" if missing)
MFA_COOKIE_SECRET=your-random-secret-at-least-32-chars

# Admin email for login lockout alerts (after 3 failed attempts)
# ADMIN_LOCKOUT_EMAIL=admin@example.com

# Recipient for international bank transfer form (Word) when generated. Default: london.finance@trtworld.com
# BANK_TRANSFER_FORM_EMAIL=london.finance@trtworld.com

# Session IP binding - disabled by default (causes "Session expired" when IP varies)
# To enable: set DISABLE_IP_BINDING=false and SESSION_IP_SECRET=your-secret
# SESSION_IP_SECRET=your-random-secret

# Upstash Redis (optional - for production rate limiting across instances)
# When set, rate limit uses Redis. When not set, falls back to in-memory (dev only).
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token
